package com.example.book.request

import org.jsoup.Jsoup

val html = """<!doctype html><html lang="zh"><head>
        <title>小说,番茄小说网_好看的小说尽在番茄小说官网</title>
        <meta name="description" content="番茄小说致力于挖掘和培育优秀的原创网络文学作家，签约作品将在今日头条、番茄小说等 app 上分发给过亿用户。番茄小说网提供玄幻小说,武侠小说,原创小说,网游小说,都市小说,言情小说,青春小说,历史小说,军事小说,网游小说,科幻小说,恐怖小说,首发小说,最新章节免费小说,热门小说,精品小说,好看小说,小说连载,小说排行榜,小说在线阅读,小说下载">
        <meta name="keywords" content="番茄小说网,番茄阅读,fanqie,番茄,头条小说,番茄小说,红果小说,小说网,玄幻小说,都市小说,历史小说,网络小说,言情小说,古代言情,现代言情,原创网络文学,首发小说,免费小说,热门小说,精品小说,好看小说,小说连载,小说排行榜,小说在线阅读,小说下载">
        <style>
            
            .font-DNMrHsV173Pd4pgy {
                font-family: DNMrHsV173Pd4pgy, -apple-system, 'PingFang SC', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            }
        </style>
        
    <meta charset="utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,minimal-ui" name="viewport"><meta name="theme-color" content="#ffffff"><meta name="renderer" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="baidu-site-verification" content="epGVKMiM9C"/><meta name="sogou_site_verification" content="bFCuU3KGfG"/><meta name="360-site-verification" content="5e84ebfcbff0e89a7f177c5c0cf5133e"/><meta name="bytedance-verification-code" content="BlCPg592GLa6HHGMGJnf"/><meta name="shenma-site-verification" content="7c64fa1dd2acef0730011a4d6cd6d27b_1629270434"/><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="applicable-device" content="pc,mobile"><meta name="viewport"/><link rel="shortcut icon" href="https://p1-tt.byteimg.com/origin/novel-static/a3621391ca2e537045168afda6722ee9" type="image/x-icon"/><link rel="apple-touch-icon" href="https://p1-tt.byteimg.com/origin/novel-static/a3621391ca2e537045168afda6722ee9"/><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus'>var windowWidth=window.innerWidth,href=window.location.href,mobileQuery="force_mobile=1";windowWidth<600&&href.indexOf(mobileQuery)<0&&(window.location.href=href+(href.indexOf("?")>=0?"&":"?")+mobileQuery)</script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus'></script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus' src="https://lf3-cdn-tos.bytescm.com/obj/rc-web-sdk/webmssdk.js"></script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus'>window.byted_acrawler&&window.byted_acrawler.init({aid:2503,isSDK:!1,boe:!1,enablePathList:["/api*","/reading/user/redeem_code/use/"],region:"cn"})</script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus' src="https://hm.baidu.com/hm.js?2667d29c8e792e6fa9182c20a3013175"></script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus' src="https://lf-c-flwb.bytetos.com/obj/rc-client-security/sec_sdk_build/3.8.0/captcha/index.js"></script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus'>window.TTGCaptcha&&window.TTGCaptcha.init({commonOptions:{aid:2503,iid:"0",did:"0"}})</script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus' src="https://lf1-cdn-tos.bytegoofy.com/obj/goofy/secsdk/secsdk-lastest.umd.js"></script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus'>secsdk.csrf.setProtectedHost(["boe.muyewx.com","fanqienovel.com"])</script><style>.serial-filter-gray{filter:grayscale(100%);-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale");-webkit-filter:grayscale(1)}</style><!-- helmetHead --><!-- link --><link href="//lf-cdn-tos.bytescm.com/obj/static/toutiao/muye/index-e21d45af.css" rel="stylesheet"><link href="//lf-cdn-tos.bytescm.com/obj/static/toutiao/muye/Search-a8e4e200.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="app"><div><div class="muye muye-search"><div class="muye-search"><div class="muye-search-wrap"><div class="muye-search-bar"><div class="search-content"><i class="search-icon muyeicon-search"></i><input class="search-input" placeholder="请输入书名或作者名" value="斗罗大陆"/></div><button class="byte-btn byte-btn-primary byte-btn-size-large byte-btn-shape-square muye-button search-btn" type="button"><span>搜索</span></button></div><div class="muye-search-filter"><div class="byte-tabs byte-tabs-horizontal byte-tabs-line byte-tabs-size-default search-order-tab"><div class="byte-tabs-header-nav byte-tabs-header-nav-horizontal byte-tabs-header-size-default byte-tabs-header-nav-line"><div class="byte-tabs-header-scroll is-dropdown"><div class="byte-tabs-header-wrapper"><div class="byte-tabs-header" style="transform:translateX(0px);-webkit-transform:translateX(0px);-ms-transform:translateX(0px);-moz-transform:translateX(0px);-o-transform:translateX(0px)"><div class="byte-tabs-header-title active">相关</div><div class="byte-tabs-header-title">最新</div><div class="byte-tabs-header-title">最热</div><div class="byte-tabs-header-ink"></div></div></div></div></div><div class="byte-tabs-content byte-tabs-content-horizontal"><div class="byte-tabs-content-inner" style="margin-left:-0%"><div class="byte-tabs-content-item byte-tabs-content-item-active"><div class="byte-tabs-pane"></div></div><div class="byte-tabs-content-item"><div class="byte-tabs-pane"></div></div><div class="byte-tabs-content-item"><div class="byte-tabs-pane"></div></div></div></div></div><div class="filter-entry"><span>筛选</span><i class="muyeicon-down"></i></div></div><div class="muye-search-hint">获取搜索结果中，请稍等...</div></div></div></div></div></div><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus'>(
            function(){
                window.__INITIAL_STATE__={"home":{"serverRendered":false,"noticeList":null,"bannerList":null,"writerList":null,"editorList":null,"weekList":null,"boyList":null,"girlList":null,"subscribeList":null,"workhardList":null,"newbookList":null,"updateList":null,"readRankList":null,"newRankList":null,"fantasyList":null,"minorityMaleList":null,"presentWordsList":null,"oldSayingList":null,"minorityFemaleList":null,"maleRenderString":"","femaleRenderString":""},"welfare":{"serverRendered":false,"editorList":[]},"search":{"searchBookList":null,"authorData":null,"total":0,"loading":true},"rank":{"serverRendered":false,"book_list":null,"readRankList":null,"newRankList":null,"rankCategoryTypeList":null,"defaultPage":0,"total_num":0,"rankVersion":"","rankTypeText":"","loading":true},"page":{"hasFetch":false,"author":"","authorId":"","bookId":"","mediaId":"","bookName":"","status":-1,"category":"","categoryV2":"","abstract":"","thumbUri":"","creationStatus":-1,"wordNumber":0,"readCount":0,"description":"","avatarUri":"","creatorId":"","lastPublishTime":"","lastChapterItemId":"","lastChapterTitle":"","volumeNameList":[],"chapterListWithVolume":[],"chapterTotal":0,"followStatus":-1,"itemIds":[],"hasFetchDirectory":false,"chapterList":[],"serverRendered":false,"genre":0,"platform":2,"type":"0","originalAuthors":""},"common":{"id":"","mediaId":"","hasSerialPermission":false,"hasAuthentication":false,"name":"","avatar":"","isVip":false,"isLoginModalVisible":false,"callbackUrl":"","isLoading":true,"needUpdate":true,"isShowLogin":true,"hasRegistered":false,"needLogout":false,"css":"","firstBookGender":-1,"now":0,"reLoginModalVisible":false,"loginTime":0,"isVip2d":false},"reader":{"phoneUrl":"","chapterData":{},"preChapterData":{},"nextChapterData":{},"catalogData":{}},"preview":{"chapterData":null},"theme":{"header":{"bg":"#ffffff","theme":1,"isDefault":true}},"seo":{"voteLinkList":[],"isSpider":false},"imc":{"data":{}},"author":{"userInfo":{"username":"","avatar":"","description":"","authorize_type":0,"word_count":0,"creation_days":0,"fans_count":0},"bookListRes":{"book_list":[],"total_count":0},"name":"","authorId":"","userId":"","authorName":""},"libra":{"libraReady":false,"data":{}},"readProgress":{"read_progress":{},"read_items_progress":{},"ready":false,"read_items_ready":false}};
            }
        )()
        </script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus' type="text/javascript" src="//lf-cdn-tos.bytescm.com/obj/static/toutiao/muye/Search.6ebe5856.js"></script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus'>!function(){if(function(){if(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))return!0}()){var e=document.documentElement.clientWidth;if(!(e>=1440)){var i=e/1440;document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width,user-scalable=yes,initial-scale="+i+",maximum-scale="+i+",minimum-scale="+i)}}}()</script><script nonce='44758ab4336f8eb9def7e8631d1f599c-argus' src="//lf-cdn-tos.bytescm.com/obj/static/toutiao/muye/js/index_4f70440a.js"></script></body></html>
"""
object FanqieFormat {
    fun search(html: String): List<Book> {
        println(html)
        val document = Jsoup.parse(html)
        val selectString = "#app > div > div.muye.muye-search > div > div > div.muye-search-book-list > div:nth-child(1)"
        val select =
            document.select("#app > div > div.muye.muye-search > div > div > div.muye-search-book-list").first()
        println(select)
        return mutableListOf<Book>()
    }
}

fun main() {
    FanqieFormat.search(html)
}